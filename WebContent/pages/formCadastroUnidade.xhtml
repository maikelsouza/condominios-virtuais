<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	template="/templates/templatePrincipal.xhtml">

	<ui:define name="conteudo">
		<h:form id="idFormCadastroUnidade" styleClass="content">
			<rich:panel>
				<f:facet name="header">
					<h:outputText value="#{msg.cadastroUnidade}" />
				</f:facet>
				<h:panelGrid columns="2">
					<h:panelGroup>
						<h:outputLabel value="#{msg.condominio}:" for="idSICondominios" />
						<span class="asterisco">*</span>
					</h:panelGroup>					
					<h:panelGroup>
						<h:outputLabel value="#{msg.bloco}:" for="idSIListaBlocos" />
						<span class="asterisco">*</span>
					</h:panelGroup>		
					<h:selectOneMenu id="idSICondominios"
						value="#{unidadeMB.condominio.id}"
						defaultLabel="#{msg['condominio.DefaultLabel']}" required="true"
						label="#{msg['condominio.label']}">
						<f:selectItem itemLabel="#{msg['condominio.DefaultLabel']}"
							noSelectionOption="true" />
						<f:selectItems value="#{unidadeMB.listaSICondominios}" />
						<f:ajax listener="#{unidadeMB.popularListaBlocos}"
							render="idSIListaBlocos" execute="@this" />
					</h:selectOneMenu>
					<h:selectOneMenu value="#{unidadeMB.bloco.id}" id="idSIListaBlocos"
						 required="true" label="#{msg['bloco.label']}">
						<f:selectItem itemLabel="#{msg['bloco.DefaultLabel']}" itemValue="0"
							noSelectionOption="true" />
						<f:selectItems value="#{unidadeMB.listaSIBlocos}" />
					</h:selectOneMenu>			
					<h:panelGroup>
						<h:outputLabel value="#{msg['unidade.tipo']}:"
							for="idSITipoUnidade" />
						<span class="asterisco">*</span>
					</h:panelGroup>					
					<h:panelGroup>
						<h:outputLabel value="#{msg['unidade.numero']}:"
							for="idUnidadeNumero" />
						<span class="asterisco">*</span>
					</h:panelGroup>			
					<h:selectOneMenu id="idSITipoUnidade" value="#{unidadeMB.unidade.tipo}"
						defaultLabel="#{msg['unidade.tipo.label.DefaultLabel']}"
						required="true" label="#{msg['unidade.tipo.label']}">
						<f:selectItems value="#{unidadeMB.listaSITipos}" />
					</h:selectOneMenu>
					<h:inputText id="idUnidadeNumero"
						value="#{unidadeMB.unidade.numero}" size="5"
						label="#{msg['unidade.numero.label']}" required="true"
						validatorMessage="#{msg['msg.unidade.Numero']}"
						binding="#{unidadeMB.componenteNumeroUnidade}">
						<f:validateLength minimum="1" maximum="5" />
					</h:inputText>
				</h:panelGrid>
				<h:panelGrid columns="2" styleClass="msgAsterisco">
					<h:outputLabel value="#{msg.rotuloCamposObrigatorios}"
						for="idCampoObrigatorio" styleClass="camposObrigatorios" />
					<h:outputLabel value="*" id="idCampoObrigatorio"
						styleClass="asterisco" />
				</h:panelGrid>
			</rich:panel>
			<h:panelGrid columns="3">
				<h:commandButton value="#{msg.botaoSalvar}"
					action="#{unidadeMB.salvarUnidade}" />
				<h:commandButton value="#{msg.botaoLimpar}"
					actionListener="#{unidadeMB.limparFiltroUnidade}" immediate="true" />
				<h:commandButton value="#{msg.botaoCancelar}"
					action="#{unidadeMB.cancelarCadastroUnidade}" immediate="true" />
			</h:panelGrid>
		</h:form>
	</ui:define>

</ui:composition>